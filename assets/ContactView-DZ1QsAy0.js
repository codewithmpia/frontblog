import{r as t,c as i,e as m,f as e,g as w,h as V,i as c,n as k,p as f,v as p,t as _,F as q,a as S}from"./index-WI-smavh.js";import{_ as F,a as B}from"./Alerts-DM2eUFvW.js";const D={class:"w-full my-12"},L={class:"max-w-4xl px-6 mx-auto"},U={class:"w-full md:grid grid-cols-2 gap-6"},M={class:"w-full mb-3"},N=e("label",{for:"name",class:"block uppercase font-medium mb-2"},"Votre nom",-1),z={key:0,class:"text-red-600"},C={class:"w-full mb-3"},E=e("label",{for:"email",class:"block uppercase font-medium mb-2"},"Votre adresse mail",-1),$={key:0,class:"text-red-600"},j={class:"w-full mb-3"},A=e("label",{for:"message",class:"block uppercase font-medium mb-2"},"Votre message",-1),T={key:0,class:"text-red-600"},G=e("button",{type:"submit",class:"bg-blue-600 text-white font-medium py-2.5 px-4 rounded shadow-sm hover:filter hover:brightness-110 cursor-pointer"},"Envoyer",-1),K={__name:"ContactView",setup(H){const r=t(""),o=t(""),u=t(""),b=t(""),v=t(""),d=t(!1),s=t({}),h=()=>{d.value=!1},g=()=>{r.value="",o.value="",u.value="",s.value={}},x=()=>{s.value={};let a=!0;return r.value||(s.value.name="Le nom est requis.",a=!1),o.value?/\S+@\S+\.\S+/.test(o.value)||(s.value.email="L'adresse mail n'est pas valide.",a=!1):(s.value.email="L'adresse mail est requise.",a=!1),u.value||(s.value.message="Le message est requis.",a=!1),a},y=async()=>{if(x())try{await S.post("https://mpiadev.pythonanywhere.com/api/contact",{name:r.value,email:o.value,message:u.value}).then(a=>{a.status===200?(b.value="success",v.value=a.data.message,d.value=!0,g()):(d.value=!0,v.value="Une erreur s'est produite")})}catch(a){console.log(a)}};return(a,l)=>(i(),m(q,null,[e("section",null,[w(B,{title:"Me contacter","sub-title":"Des questions ? Des suggestions ?",note:"Vous Ãªtes au bon endroit, laissez-moi un message et je reviendrai vers vous le plus bref delai."})]),e("section",D,[e("div",L,[d.value?(i(),V(F,{key:0,category:b.value,text:v.value,action:h},null,8,["category","text"])):c("",!0),e("form",{onSubmit:k(y,["prevent"])},[e("div",U,[e("div",M,[N,f(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":l[0]||(l[0]=n=>r.value=n),class:"w-full min-h-12 outline-none border border-solid border-gray-300 py-2.5 px-4 rounded focus:border-blue-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[p,r.value]]),s.value.name?(i(),m("span",z,_(s.value.name),1)):c("",!0)]),e("div",C,[E,f(e("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":l[1]||(l[1]=n=>o.value=n),class:"w-full min-h-12 outline-none border border-solid border-gray-300 py-2.5 px-4 rounded focus:border-blue-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[p,o.value]]),s.value.email?(i(),m("span",$,_(s.value.email),1)):c("",!0)])]),e("div",j,[A,f(e("textarea",{name:"message",id:"message","onUpdate:modelValue":l[2]||(l[2]=n=>u.value=n),class:"w-full h-52 resize-none min-h-12 outline-none border border-solid border-gray-300 py-2.5 px-4 rounded focus:border-blue-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[p,u.value]]),s.value.message?(i(),m("span",T,_(s.value.message),1)):c("",!0)]),G],32)])])],64))}};export{K as default};
